(window.webpackJsonp=window.webpackJsonp||[]).push([[8],[function(t,e,i){"use strict";function n(t){this.grid=t}function s(){this.setListeners(),this.grid.querySelectorAll('[role="gridcell"]').forEach(t=>{this.removeFocusingInside(t)}),this.setFocusingInside(this.grid.querySelector('[role="gridcell"]'))}function o(){this.grid.addEventListener("keydown",this),this.grid.addEventListener("focusin",this)}function r(t){t.querySelector('[data-grid="widget"]').focus()}function c(t){t.classList.remove("is-focus")}function a(t){this.focusedCell&&(this.unfocusCell(this.focusedCell),this.removeFocusingInside(this.focusedCell)),t.classList.add("is-focus"),this.focusedCell=t}function u(t){t.querySelectorAll("[tabindex]").forEach(t=>{t.setAttribute("tabindex","0")})}function l(t){t.querySelectorAll("[tabindex]").forEach(t=>{t.setAttribute("tabindex","-1")})}function h(t){const e=t.target.closest('[role="gridcell"]');switch(t.key){case"ArrowDown":case"ArrowRight":if(t.preventDefault(),e.nextElementSibling)return this.focusWidget(e.nextElementSibling);break;case"ArrowUp":case"ArrowLeft":if(t.preventDefault(),e.previousElementSibling)return this.focusWidget(e.previousElementSibling);break;case"Home":t.preventDefault();const i=this.grid.querySelector('[role="gridcell"]');return this.focusWidget(i);case"End":t.preventDefault();const n=this.grid.querySelector('[role="gridcell"]:last-child');return this.focusWidget(n)}}function d(){this.grid.removeEventlistener("keydown",this),this.grid.removeEventlistener("focusin",this)}function b(t){switch(t.type){case"keydown":if(t.stopPropagation(),"widget"===t.target.getAttribute("data-grid"))return this.onkeydown(t);break;case"focusin":if(t.stopPropagation(),"widget"===t.target.getAttribute("data-grid")){const e=t.target.closest('[role="gridcell"]');e!==this.focusedCell&&(this.setFocusingInside(e),this.focusCell(e))}}}i.d(e,"d",(function(){return n})),i.d(e,"f",(function(){return s})),i.d(e,"j",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"k",(function(){return c})),i.d(e,"b",(function(){return a})),i.d(e,"i",(function(){return u})),i.d(e,"h",(function(){return l})),i.d(e,"g",(function(){return h})),i.d(e,"a",(function(){return d})),i.d(e,"e",(function(){return b}))},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r}));var n={Backspace:"Backspace",Clear:"Clear",Down:"ArrowDown",End:"End",Enter:"Enter",Escape:"Escape",Home:"Home",Left:"ArrowLeft",PageDown:"PageDown",PageUp:"PageUp",Right:"ArrowRight",Space:" ",Tab:"Tab",Up:"ArrowUp"};const s={Close:0,CloseSelect:1,First:2,Last:3,Next:4,Open:5,Previous:6,Select:7,Space:8,Type:9,Blur:10,Left:11,Right:12},o=function(t,e){const{key:i}=t;return e||i!==n.Enter&&i!==n.Space?i===n.Down?s.Next:i===n.Up?s.Previous:i===n.Home?s.First:i===n.End?s.Last:i===n.Escape?s.Close:i===n.Enter?s.CloseSelect:i===n.Space?s.Space:i===n.Tab?s.Blur:i===n.Left?s.Left:i===n.Right?s.Right:void 0:s.Open},r=function(t,e,i){switch(i){case s.First:return 0;case s.Last:return e;case s.Previous:case s.Left:return Math.max(0,t-1);case s.Next:case s.Right:return Math.min(e,t+1);default:return t}}},function(t,e,i){"use strict";function n(t){this.form=t,this.sending=!1}function s(){this.setListeners()}function o(){this.form.addEventListener("submit",this)}function r(){this.form.removeEventListener("submit",this)}function c(){return new FormData(this.form)}function a(){this.sending=!0,this.showSubmitting&&this.showSubmitting();const t=this.getFormData(this.form);this.sendFormHandler(this.form,t)}function u(){this.form.reset()}function l(t){switch(t.type){case"submit":return t.preventDefault(),this.submitForm()}}i.d(e,"b",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"c",(function(){return c})),i.d(e,"h",(function(){return a})),i.d(e,"f",(function(){return u})),i.d(e,"d",(function(){return l}))},,function(t,e,i){"use strict";function n(t){this.resetForm(),console.log(t)}function s(t){console.log(t)}function o(t,e){this.sendForm(t,e).then(t=>this.onSuccessHandler(t)).catch(t=>this.onErrorHandler(t)).finally(()=>{this.sending=!1,this.showSubmitting&&this.showSubmitting()})}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return o}))},function(t,e,i){"use strict";const n=function(t){this.container=t};n.prototype={constructor:n,init:function(){this.setListeners()},setListeners:function(){this.container.addEventListener("click",this)},toogleBtn:function(t){let e=t.getAttribute("aria-pressed");e="true"===e?"false":"true",t.setAttribute("aria-pressed",e)},destroy:function(){this.container.removeEventListener("click",this)},handleEvent:function(t){switch(t.type){case"click":const e=t.target.closest('[data-btn="like"]');if(e)return this.toogleBtn(e)}}},e.a=n},function(t,e,i){"use strict";var n=i(0);const s=n.d;s.prototype={constructor:s,init:n.f,setListeners:n.j,focusWidget:n.c,focusCell:n.b,unfocusCell:n.k,setFocusingInside:n.i,removeFocusingInside:n.h,onkeydown:n.g,destroy:n.a,handleEvent:n.e},e.a=s},function(t,e,i){"use strict";async function n(t,e){const i=Object.fromEntries(e),n=t.getAttribute("method"),s=t.getAttribute("enctype");console.log(i);const o={method:n||"POST",credentials:"same-origin",body:JSON.stringify(i),headers:{"Content-Type":s}};this.controller&&(o.signal=this.controller.signal);try{const t=await fetch("https://echo.htmlacademy.ru",o);if(!t.ok)throw new Error("server error");return t}catch(t){throw new Error(t.message)}}i.d(e,"a",(function(){return n}))},function(t,e,i){"use strict";var n=i(2),s=i(4),o=i(7);const r=n.b;r.prototype={constructor:r,init:n.e,setListeners:n.g,destroy:n.a,getFormData:n.c,resetForm:n.f,sendForm:o.a,submitForm:n.h,sendFormHandler:s.c,onSuccessHandler:s.b,onErrorHandler:s.a,handleEvent:n.d},e.a=r},,,,,,,,,,function(t,e,i){i(27),t.exports=i(19)},function(t,e,i){},,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(1);const s=function(t){this.carousel=t,this.tablist=this.carousel.querySelector('[role="tablist"]')};s.prototype={constructor:s,init:function(){this.setListeners(),this.disableControl(this.carousel.querySelector('[data-carousel="prev-slide"]')),this.activateSlide(this.carousel.querySelector('[data-carousel="slide"]')),this.focusTab(this.tablist.firstElementChild),this.activateTab(this.tablist.firstElementChild)},setListeners:function(){this.carousel.addEventListener("click",this),this.carousel.addEventListener("keydown",this)},nextSlide:function(t){this.activateSlide(this.activeSlide.nextElementSibling),this.focusTab(this.activeTab.nextElementSibling),this.activateTab(this.activeTab.nextElementSibling),this.activeSlide.nextElementSibling||this.disableControl(t)},prevSlide:function(t){this.activateSlide(this.activeSlide.previousElementSibling),this.focusTab(this.activeTab.previousElementSibling),this.activateTab(this.activeTab.previousElementSibling),this.activeSlide.previousElementSibling||this.disableControl(t)},changeSlide:function(t){this.undisableControl(),"next-slide"===t.dataset.carousel?this.nextSlide(t):this.prevSlide(t)},activateSlide:function(t){this.activeSlide&&this.deactivateSlide(this.activeSlide),t.classList.add("is-active"),this.activeSlide=t},deactivateSlide:function(t){t.classList.remove("is-active")},disableControl:function(t){t.setAttribute("disabled",!0),this.disabledControl=t},undisableControl:function(){this.disabledControl.removeAttribute("disabled")},focusTab:function(t){this.focusedTab&&this.unfocusTab(this.focusedTab),t.classList.add("is-focus"),this.focusedTab=t},unfocusTab:function(t){t.classList.remove("is-focus")},activateTab:function(t){this.activeTab&&this.deactivateTab(this.activeTab),t.setAttribute("tabindex","0"),t.setAttribute("aria-selected",!0),this.activeTab=t},deactivateTab:function(t){t.setAttribute("tabindex","-1"),t.setAttribute("aria-selected",!1)},onclickTab:function(t){const e=t.getAttribute("aria-controls");if(this.activateSlide(this.carousel.querySelector("#"+e)),this.activateTab(t),this.focusTab(t),this.undisableControl(),t===this.tablist.firstElementChild){const t=this.carousel.querySelector('[data-carousel="prev-slide"]');this.disableControl(t)}if(t===this.tablist.lastElementChild){const t=this.carousel.querySelector('[data-carousel="next-slide"]');this.disableControl(t)}},onkeydown:function(t){switch(Object(n.b)(t,!0)){case n.a.Left:if(t.preventDefault(),this.focusedTab.previousElementSibling)return this.focusTab(this.focusedTab.previousElementSibling);break;case n.a.Right:if(t.preventDefault(),this.focusedTab.nextElementSibling)return this.focusTab(this.focusedTab.nextElementSibling);break;case n.a.Space:case n.a.CloseSelect:return t.preventDefault(),this.onclickTab(this.focusedTab);case n.a.First:return t.preventDefault(),this.focusTab(this.tablist.firstElementChild);case n.a.Last:return t.preventDefault(),this.focusTab(this.tablist.lastElementChild)}},handleEvent:function(t){switch(t.type){case"click":if(t.stopPropagation(),"tab"===t.target.getAttribute("role"))return this.onclickTab(t.target);if(t.target.hasAttribute("aria-controls")&&t.target!==this.disableControl)return this.changeSlide(t.target);break;case"keydown":if("tab"===t.target.getAttribute("role"))return this.onkeydown(t)}}};var o=s;const r=function(t){this.wrap=t,this.tablist=t.querySelector('[role="tablist"]')};r.prototype={constructor:r,init:function(){this.setListeners(),this.activateTab(this.tablist.querySelector('[role="tab"]')),this.showPanel(this.wrap.querySelector('[role="tabpanel"]'))},setListeners:function(){this.tablist.addEventListener("click",this),this.tablist.addEventListener("keydown",this)},activateTab:function(t){this.activeTab&&this.deactivateTab(this.activeTab);const e=t.getAttribute("aria-controls");t.setAttribute("tabindex","0"),t.setAttribute("aria-selected",!0),this.showPanel(this.wrap.querySelector("#"+e)),this.activeTab=t},deactivateTab:function(t){t.setAttribute("tabindex","-1"),t.setAttribute("aria-selected",!1)},showPanel:function(t){this.activePanel&&this.hidePanel(this.activePanel),t.setAttribute("tabindex","0"),this.activePanel=t},hidePanel:function(t){t.setAttribute("tabindex","-1")},focusTab:function(t){t.focus()},handleEvent:function(t){switch(t.type){case"click":if("tab"===t.target.getAttribute("role"))return this.activateTab(t.target);break;case"keydown":if(t.stopPropagation(),"tab"===t.target.getAttribute("role"))return this.onkeydown(t)}},onkeydown:function(t){switch(t.key){case"ArrowDown":case"ArrowRight":if(t.preventDefault(),t.target.nextElementSibling)return this.focusTab(t.target.nextElementSibling);break;case"ArrowUp":case"ArrowLeft":if(t.preventDefault(),t.target.previousElementSibling)return this.focusTab(t.target.previousElementSibling);break;case"Home":return t.preventDefault(),this.focusTab(this.tablist.firstElementChild);case"End":return t.preventDefault(),this.focusTab(this.tablist.lastElementChild);case"Space":return t.preventDefault(),this.activateTab(t.currentTarget)}}};var c=r,a=i(6),u=i(5),l=i(8);function h(t){this.elem=t,this.combobox=this.elem.querySelector('[role="combobox"]'),this.options=this.elem.querySelector('[role="listbox"]'),this.arrayOptions=Array.from(this.options.children),this.input=this.elem.querySelector("input"),this.open=!1,this.optionSelectedIndex=0,this.optionFocusedIndex=0}function d(){this.combobox.addEventListener("blur",this),this.combobox.addEventListener("click",this),this.combobox.addEventListener("keydown",this),this.options.addEventListener("mousedown",this),this.options.addEventListener("click",this)}function b(t){t.stopPropagation(),this.arrayOptions.length<1||(this.open=!this.open,this.combobox.setAttribute("aria-expanded",""+this.open),this.open?this.openOptions():this.closeOptions())}function f(){this.elem.classList.add("is-active");const t=this.arrayOptions[this.optionSelectedIndex].getAttribute("id");this.combobox.setAttribute("aria-activedescendant",""+t),this.onOptionFocused(this.optionSelectedIndex)}function p(){this.elem.classList.remove("is-active"),this.combobox.setAttribute("aria-activedescendant","")}function v(){this.combobox.setAttribute("aria-activedescendant",""),this.combobox.textContent="",this.input.value="",this.arrayOptions[this.optionSelectedIndex].setAttribute("aria-selected","false"),this.arrayOptions[this.optionFocusedIndex].classList.remove("is-focus"),this.optionSelectedIndex=0,this.optionFocusedIndex=0}function g(t){const e=t.target.getAttribute("role"),i=this.arrayOptions[this.optionSelectedIndex],n="option"===e?t.target:this.arrayOptions[this.optionFocusedIndex];if(i&&i.setAttribute("aria-selected","false"),n)if(n.setAttribute("aria-selected","true"),this.combobox.textContent=n.textContent,this.input.value=n.textContent,"function"==typeof window.CustomEvent)this.input.dispatchEvent(new Event("input"));else{const t=document.createEvent("Event");t.initEvent("input",!0,!1),this.input.dispatchEvent(t)}const s=this.arrayOptions.findIndex(t=>t===n);this.optionSelectedIndex=s}function m(t){const e=this.arrayOptions.length-1,i=Object(n.b)(t,this.open);switch(i){case n.a.Next:case n.a.Last:case n.a.First:case n.a.Previous:return t.preventDefault(),this.onOptionFocused(Object(n.c)(this.optionFocusedIndex,e,i));case n.a.Space:return t.preventDefault(),this.toogleOptions(t);case n.a.CloseSelect:return t.preventDefault(),this.onOptionChecked(t),this.toogleOptions(t);case n.a.Close:case n.a.Open:return t.preventDefault(),this.toogleOptions(t);case n.a.Blur:return this.closeOptions()}}function y(t){if(this.ignoreBlur)return this.ignoreBlur=!1,void this.combobox.focus();this.open&&this.toogleOptions(t)}function S(){this.ignoreBlur=!0}function w(t){const e=this.arrayOptions[this.optionFocusedIndex],i=this.arrayOptions[t];var n;this.combobox.setAttribute("aria-activedescendant",""+i.id),this.open&&((n=this.options)&&n.clientHeight<n.scrollHeight)&&function(t,e){const{offsetTop:i}=t;e.scrollTo(0,i)}(this.arrayOptions[t],this.options),e&&e.classList.remove("is-focus"),i&&i.classList.add("is-focus"),this.optionFocusedIndex=t}function E(){this.combobox.removeEventListener("blur",this),this.combobox.removeEventListener("click",this),this.combobox.removeEventListener("keydown",this),this.options.removeEventListener("mousedown",this),this.arrayOptions[this.optionFocusedIndex].classList.remove("is-focus")}function x(t){switch(t.type){case"click":t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("role");if("combobox"===e)return this.toogleOptions(t);if("option"===e)return this.onOptionChecked(t),this.toogleOptions(t);break;case"blur":return this.onComboboxBlur(t);case"keydown":return this.onKeydown(t);case"mousedown":return this.onListboxMouseDown()}}const T=h;T.prototype={constructor:T,init:d,toogleOptions:b,openOptions:f,closeOptions:p,resetCombobox:v,onOptionChecked:g,onKeydown:m,onComboboxBlur:y,onListboxMouseDown:S,onOptionFocused:w,destroy:E,handleEvent:x};var L=T;const k=h;k.prototype={constructor:k,init:d,toogleOptions:b,openOptions:f,closeOptions:p,resetCombobox:v,onOptionChecked:function(t){g.call(this,t);const e=this.arrayOptions[this.optionSelectedIndex].style.getPropertyValue("--bg-color");this.combobox.style.setProperty("--bg-color",e)},onKeydown:m,onComboboxBlur:y,onListboxMouseDown:S,onOptionFocused:w,destroy:E,handleEvent:x};var A=k;const C=new o(document.querySelector(".carousel-tab")),O=new c(document.querySelector("#product-info")),F=document.querySelector("#grid-card"),D=new a.a(F),q=new u.a(F),P=document.querySelector('[name="form-product"]'),I=new u.a(P),B=new l.a(P);document.querySelectorAll('[role="combobox"]').forEach(t=>{if("color"===t.dataset.combobox){new A(t.parentElement).init()}else{new L(t.parentElement).init()}}),C.init(),O.init(),D.init(),q.init(),I.init(),B.init()}],[[18,0]]]);